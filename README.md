# Lan-Dropbox

### Penetration testing “drop box”

![](https://github.com/pollonegro/Lan-Dropbox/blob/master/img/1.png)

See WIKI for full information and instructions!


### PROLOGUE

      I needed a wireless access point with some network functions for home.
      I found this Chinese model at a good price in which OpenWRT and some tools can be installed.
      

### INTRODUCTION
   

      Defined as penetration testing “drop box”. Multiples functions.

    Key Features:
    
      Integrated Wired and Wireless connections + 4GB storage
      Can establish an SSH tunnel through the target network, or can be accessed by wifi
      Can be configured as a wifi sniffer and logger (Wardriving)
      Network Intrusion Prevention System (NIPS) and Network Intrusion Detection System (NIDS)
      Low power consumption, no need to find a power outlet during the pen test
      Multiple PenTesting Tools included:
      (tcpdump, nbtscan, netcat, nmap, kismet, karma, snort, aircrack-ng, ettercap-ng, 
      reaver, WEP cracker, MDK3, Password & Network Sniffer, Wifi Nuke..) to name a few
      Can be easily carried in a pocket, hidden anywhere..
      

    Use Cases:
    
      War Walking / wireless auditing (5v 1.2a battery micro-usb conector)
      Penetration testing drop box
      Anonymizing middlebox (Tor Proxy)
      Phishing with captive portals (Evil Twin)
      Man In The Middle (MITM) SSL Proxy (Rogue AP)
      OpenVPN client
      Windows Key Management Server (KMS Emulated Server)
      Pivot box (reverse connection via SSH or OpenVPN)
      Personal Portable Security Systems (NIPS - NIDS)
      General network auditing, recon..


### BODY

      Setup
       1 - Install OpenWRT
       2 - Tor proxy and anonymizing setup
  
      Tools
       3 - Analyzing with "Remote Wireshark Listener"
       4 - Capacitive portal
       5 - KMS Server
       6 - SWORD proyect
       7 - Snort 


 ### BIBLIOGRAPHY AND KNOWLEDGE BASE

      https://technet.microsoft.com/en-us/library/ff793434.aspx
      https://wiki.openwrt.org/doc/howto/extroot              
      http://www.rationallyparanoid.com/articles/tcpdump.html 
      https://www.bettercap.org/legacy/ 
      https://forums.mydigitallife.net/threads/emulated-kms-servers-on-non-windows-platforms.50234/
      https://github.com/tomacwrt/tomacwrt.github.io
      https://wiki.openwrt.org/doc/howto/snort
      KMS - cokebar


See WIKI for full information and instructions!
